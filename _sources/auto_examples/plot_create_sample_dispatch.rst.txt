
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_examples/plot_create_sample_dispatch.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_auto_examples_plot_create_sample_dispatch.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_plot_create_sample_dispatch.py:

Automatic sample construction (dispatcher).
============================================

You typically don't want to care about the concrete sample type. ``probly`` provides
``create_sample`` which selects the best representation based on the sample element type.

For example:

- lists of NumPy arrays become an :class:`~probly.representation.sampling.sample.ArraySample`
- lists of Python scalars become an :class:`~probly.representation.sampling.sample.ArraySample`
- other objects fall back to :class:`~probly.representation.sampling.sample.ListSample`

This example also renders a tiny plot to show the average class probabilities for the
first instance in the sample (just to make sure gallery execution is visibly working).

.. GENERATED FROM PYTHON SOURCE LINES 16-48



.. image-sg:: /auto_examples/images/sphx_glr_plot_create_sample_dispatch_001.png
   :alt: Mean probabilities for instance 0
   :srcset: /auto_examples/images/sphx_glr_plot_create_sample_dispatch_001.png
   :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    sample type: ArraySample
    mean:
     [[0.2 0.8]
     [0.7 0.3]]






|

.. code-block:: Python


    from __future__ import annotations

    import matplotlib.pyplot as plt
    import numpy as np

    from probly.representation.sampling.sample import create_sample

    samples = [
        np.array([[0.2, 0.8], [0.7, 0.3]]),
        np.array([[0.1, 0.9], [0.6, 0.4]]),
        np.array([[0.3, 0.7], [0.8, 0.2]]),
    ]

    sample = create_sample(samples)

    print("sample type:", type(sample).__name__)

    mean = np.mean(samples, axis=0)
    print("mean:\n", mean)

    # Visualize the mean probabilities for the first instance.
    classes = np.arange(mean.shape[1])
    plt.figure(figsize=(4, 2.5))
    plt.bar(classes, mean[0], color="#6c8cd5")
    plt.xticks(classes)
    plt.ylim(0, 1)
    plt.xlabel("Class index")
    plt.ylabel("Mean probability")
    plt.title("Mean probabilities for instance 0")
    plt.tight_layout()
    plt.show()


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 0.057 seconds)


.. _sphx_glr_download_auto_examples_plot_create_sample_dispatch.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: plot_create_sample_dispatch.py <plot_create_sample_dispatch.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: plot_create_sample_dispatch.zip <plot_create_sample_dispatch.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
